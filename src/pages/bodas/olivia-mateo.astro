---
import Layout from '../../layouts/Layout.astro';
---

<Layout title="Olivia & Mateo - Invitación de Boda">
  <div class="invitation-container">
    <!-- Portada -->
    <section class="invitation-section h-screen flex flex-col justify-center items-center relative" id="portada-section">
      <img 
        src="/placeholder.svg?height=1080&width=1920&query=elegant minimalist wedding background with white flowers" 
        alt="Olivia y Mateo" 
        class="absolute inset-0 w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"></div>
      
      <div class="z-10 text-center text-white px-4">
        <h1 class="text-4xl md:text-5xl font-bold mb-4 playfair">OLIVIA & MATEO</h1>
        <p class="text-lg md:text-xl max-w-2xl mx-auto mb-8">
          NOS CASAMOS Y QUEREMOS COMPARTIR ESTE MOMENTO TAN ESPECIAL CONTIGO
        </p>
        <button id="enter-btn" class="bg-amber-600 hover:bg-rose-800 text-white font-medium py-2 px-6 rounded-md transition">
          INGRESAR
        </button>
      </div>
    </section>
    
    <!-- Contenido principal (inicialmente oculto) -->
    <div id="invitation-content" class="hidden">
      <!-- Nos casamos - Sección minimalista con la imagen proporcionada -->
      <section class="invitation-section  bg-white text-center">
        <div class="container mx-auto ">
          <div class="">
            <img 
              src="/olivia7.png" 
              alt="Olivia y Mateo - Nos Casamos" 
              class="w-full h-[65vh] object-cover"
            />
          </div>
          
          <!-- <p class="text-gray-700 mb-8 text-lg">Presiona el corazón para escuchar nuestra canción</p> -->
           <div class="w-1/2 h-px bg-amber-600 mx-auto mb-4"></div>
         <button id="play-heart" 
  class="relative mx-auto block transform transition hover:scale-110 mb-9 mt-3 
         before:content-[''] before:absolute before:top-1/2 before:left-[-2rem] 
         before:w-5 before:h-[2px] before:bg-amber-600 before:-translate-y-1/2 
         after:content-[''] after:absolute after:top-1/2 after:right-[-2rem] 
         after:w-5 after:h-[2px] after:bg-amber-600 after:-translate-y-1/2">
  
  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="#be185d" stroke="#be185d" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-heart mx-auto">
    <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"/>
  </svg>
</button>

          
          <audio id="background-music" loop>
            <source src="/bodatema.mp3" type="audio/mp3">
          </audio>
        </div>
          <div class="">
            <img 
              src="/tager.jpg" 
              alt="Olivia y Mateo - Nos Casamos" 
              class="w-full h-[35vh] object-cover"
            />
      </section>
      
      <section class="py-5 bg-white text-center relative">
        <div class="w-1/2 h-px bg-amber-600 mx-auto mb-4"></div>
        <h2 class=" text-gray-700 font-normal tracking-wide leading-relaxed max-w-2xl mx-auto px-4 ">
         Prometemos amarnos y cuidarnos mutuamente mientras caminamos juntos por el camino del matrimonio.
        </h2>
        <div class="w-1/2 h-px bg-amber-600 mx-auto mt-4"></div>
      </section>
       <section class="py-12 bg-white text-center relative">
        <div class="flex justify-center mb-9">
  <img src="/manos.png" alt="" class="w-20">
</div>

        <h2 class="text-4xl allura mb-6 text-gray-700">
         Con la bendición de Dios y nuestros queridos padres.
        </h2>
        
        <h2 class="text-xl font-semibold mb-2 text-gray-700">
         Padres de la Novia
        </h2>
        <p class="text-lg font-light mb-2 text-gray-700">Angelica Zapata Silve</p>
        <p class="text-lg font-light mb-2 text-gray-700">Miguel Huaman Aguiree</p>
          <h2 class="text-xl font-semibold mb-2 mt-6 text-gray-700">
         Padres del Novio
        </h2>
        <p class="text-lg font-light mb-2 text-gray-700">Angelica Zapata Silve</p>
        <p class="text-lg font-light mb-2 text-gray-700">Miguel Huaman Aguiree</p>
        <div class="w-1/2 h-px bg-amber-600 mx-auto mt-4"></div>
        <div class="mt-5">
             <img 
               src="/tager2.jpg" 
               alt="Olivia y Mateo - Nos Casamos" 
               class="w-full h-[35vh] object-cover"
             />
            </section>
            <!-- Cuenta regresiva -->
            <section class="invitation-section py-2 text-center">
        <h2 class="text-4xl allura  text-gray-700 text-center">
        Tenemos el agrado de invitarlos
        </h2>
        <h2 class="text-4xl allura mb-6 text-gray-700 text-center">a Nuestra Boda</h2>
        
        <!-- Fecha estética -->
        <div class="mb-8">
          <div class="flex items-center justify-center mb-4">
            <div class="w-16 h-px bg-amber-600"></div>
            <div class="mx-6 text-center">
              <div class="text-6xl allura text-amber-600 mb-2">15</div>
              <div class="text-lg font-medium text-gray-600 uppercase tracking-widest">Noviembre</div>
              <div class="text-2xl font-bold text-gray-800">2025</div>
            </div>
            <div class="w-16 h-px bg-amber-600"></div>
          </div>
        </div>
        
        <div class="container mx-auto px-4">
          <h2 class="text-3xl md:text-4xl font-bold mb-12 text-ambebg-amber-600 playfair">FALTAN</h2>
          
          <div class="countdown-container flex justify-center gap-4 md:gap-8 mb-12">
            <div class="countdown-item">
              <div id="days" class="text-3xl md:text-5xl font-bold">00</div>
              <div class="text-xs uppercase text-gray-500">DÍAS</div>
            </div>
            <div class="countdown-separator text-3xl md:text-5xl font-bold">:</div>
            <div class="countdown-item">
              <div id="hours" class="text-3xl md:text-5xl font-bold">00</div>
              <div class="text-xs uppercase text-gray-500">HORAS</div>
            </div>
            <div class="countdown-separator text-3xl md:text-5xl font-bold">:</div>
            <div class="countdown-item">
              <div id="minutes" class="text-3xl md:text-5xl font-bold">00</div>
              <div class="text-xs uppercase text-gray-500">MINUTOS</div>
            </div>
            <div class="countdown-separator text-3xl md:text-5xl font-bold">:</div>
            <div class="countdown-item">
              <div id="seconds" class="text-3xl md:text-5xl font-bold">00</div>
              <div class="text-xs uppercase text-gray-500">SEGUNDOS</div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Carrusel de imágenes -->
<section class="invitation-section py-16 bg-white">
  <div class="container mx-auto px-4">
    <div class="max-w-4xl mx-auto">
      <h2 class="text-3xl font-bold text-center mb-12 text-gray-800 playfair">Nuestros Momentos</h2>
      
      <div class="relative overflow-hidden rounded-lg shadow-lg">
        <div id="carousel-container" class="flex transition-transform duration-500 ease-in-out">
          <div class="w-full flex-shrink-0">
            <img 
              src="/placeholder.svg?height=400&width=600&query=romantic couple moment 1" 
              alt="Momento especial 1" 
              class="w-full h-80 object-cover"
            />
          </div>
          <div class="w-full flex-shrink-0">
            <img 
              src="/placeholder.svg?height=400&width=600&query=romantic couple moment 2" 
              alt="Momento especial 2" 
              class="w-full h-80 object-cover"
            />
          </div>
          <div class="w-full flex-shrink-0">
            <img 
              src="/placeholder.svg?height=400&width=600&query=romantic couple moment 3" 
              alt="Momento especial 3" 
              class="w-full h-80 object-cover"
            />
          </div>
          <div class="w-full flex-shrink-0">
            <img 
              src="/placeholder.svg?height=400&width=600&query=romantic couple moment 4" 
              alt="Momento especial 4" 
              class="w-full h-80 object-cover"
            />
          </div>
        </div>
        
        <!-- Botones de navegación -->
        <button 
          id="prev-btn" 
          class="absolute left-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-all duration-200 hover:scale-110"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m15 18-6-6 6-6"/>
          </svg>
        </button>
        
        <button 
          id="next-btn" 
          class="absolute right-4 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white text-gray-800 rounded-full p-2 shadow-lg transition-all duration-200 hover:scale-110"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m9 18 6-6-6-6"/>
          </svg>
        </button>
        
        <!-- Indicadores -->
        <div class="absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-2">
          <button class="carousel-indicator w-3 h-3 rounded-full bg-white/60 hover:bg-white transition-all duration-200" data-slide="0"></button>
          <button class="carousel-indicator w-3 h-3 rounded-full bg-white/60 hover:bg-white transition-all duration-200" data-slide="1"></button>
          <button class="carousel-indicator w-3 h-3 rounded-full bg-white/60 hover:bg-white transition-all duration-200" data-slide="2"></button>
          <button class="carousel-indicator w-3 h-3 rounded-full bg-white/60 hover:bg-white transition-all duration-200" data-slide="3"></button>
        </div>
      </div>
    </div>
  </div>
</section>
      
      <!-- Cuándo -->
      <section class="invitation-section py-16 bg-gray-50 text-center">
        <div class="container mx-auto px-4">
          <div class="max-w-lg mx-auto">
            <div class="mb-6 flex justify-center">
              <animated-icons
                src="https://animatedicons.co/get-icon?name=calendar%20V3&style=minimalistic&token="
                trigger="loop"
                attributes='{"variationThumbColour":"#be185d","variationName":"Two Tone","variationNumber":2,"numberOfGroups":2,"backgroundIsGroup":false,"strokeWidth":1,"defaultColours":{"group-1":"#be185d","group-2":"#be185d","background":"#FFFFFF00"}}'
                height="80"
                width="80"
              ></animated-icons>
            </div>
            <h2 class="text-2xl font-medium mb-2 text-gray-700">¿CUÁNDO?</h2>
            <p class="text-xl font-bold mb-8 text-ambebg-amber-600">15 DE NOVIEMBRE 2025</p>
            
            <div class="border-t border-b border-gray-200 py-8 my-8">
              <h3 class="text-xl font-medium mb-6 playfair">ITINERARIO</h3>
              
              <div class="mb-10">
                <div class="mb-4">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto text-ambebg-amber-600"><path d="M12 21.35a1.5 1.5 0 0 1-2.53-.3c-.72-1.8-2.74-2.85-4.38-2.34-2.38.75-4.8-1.54-4.04-3.92.51-1.63-.54-3.64-2.35-4.35a1.5 1.5 0 0 1 0-2.88c1.81-.71 2.86-2.72 2.35-4.35-.76-2.38 1.66-4.67 4.04-3.92 1.64-.51 3.66.54 4.38-2.34Z"/><circle cx="12" cy="12" r="3"/></svg>
                </div>
                <h4 class="text-lg font-bold mb-1">CIVIL</h4>
                <p class="text-gray-600 mb-4">| 11:30 HS |</p>
                <button 
                  id="civil-location" 
                  class="inline-block border border-ambebg-amber-600 text-ambebg-amber-600 hover:bg-rose-50 font-medium py-2 px-6 rounded transition cursor-pointer"
                >
                  CÓMO LLEGAR
                </button>
              </div>
              
              <div class="mb-10">
                <div class="mb-4">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto text-ambebg-amber-600"><path d="M18 6V4H6v2"/><path d="M18 18v2H6v-2"/><path d="M16 4h2v16h-2"/><path d="M6 4h2v16H6"/><path d="M10 14h4"/><path d="M10 10h4"/></svg>
                </div>
                <h4 class="text-lg font-bold mb-1">CEREMONIA</h4>
                <p class="text-gray-600 mb-4">| 19:30 HS |</p>
                <button 
                  id="ceremony-location" 
                  class="inline-block border border-ambebg-amber-600 text-ambebg-amber-600 hover:bg-rose-50 font-medium py-2 px-6 rounded transition cursor-pointer"
                >
                  CÓMO LLEGAR
                </button>
              </div>
              
              <div>
                <div class="mb-4">
                  <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto text-ambebg-amber-600"><path d="M9 12l2 2 4-4"/><path d="M21 12c.552 0 1-.448 1-1V5c0-.552-.448-1-1-1H3c-.552 0-1 .448-1 1v6c0 .552.448 1 1 1"/><path d="M3 12v6c0 .552.448 1 1 1h16c.552 0 1-.448 1-1v-6"/><path d="M12 8v4"/><path d="M8 8v4"/><path d="M16 8v4"/></svg>
                </div>
                <h4 class="text-lg font-bold mb-1">FIESTA</h4>
                <p class="text-gray-600 mb-4">| 22:00 HS |</p>
                <button 
                  id="party-location" 
                  class="inline-block border border-ambebg-amber-600 text-ambebg-amber-600 hover:bg-rose-50 font-medium py-2 px-6 rounded transition cursor-pointer"
                >
                  CÓMO LLEGAR
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Modal de Google Maps -->
      <div id="maps-modal" class="fixed inset-0 z-50 hidden items-center justify-center">
        <div class="absolute inset-0 bg-black/70" id="maps-backdrop"></div>
        <div class="relative z-10 bg-white rounded-lg p-6 max-w-2xl w-full mx-4 max-h-[80vh] overflow-y-auto">
          <button id="close-maps" class="absolute top-2 right-2 text-gray-500 hover:text-gray-700 z-20">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x">
              <path d="M18 6 6 18"/>
              <path d="m6 6 12 12"/>
            </svg>
          </button>
          <div id="modal-content">
            <h3 id="location-title" class="text-xl font-bold text-ambebg-amber-600 mb-4 text-center"></h3>
            <div id="location-details" class="mb-4 text-center"></div>
            <div id="map-container" class="w-full h-64 mb-4 rounded-lg overflow-hidden">
              <iframe 
                id="google-map" 
                width="100%" 
                height="100%" 
                style="border:0;" 
                allowfullscreen="" 
                loading="lazy" 
                referrerpolicy="no-referrer-when-downgrade">
              </iframe>
            </div>
            <div class="flex gap-4 justify-center">
              <a 
                id="directions-link" 
                target="_blank" 
                class="bg-amber-600 hover:bg-rose-800 text-white font-medium py-2 px-6 rounded transition"
              >
                Abrir en Google Maps
              </a>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Regalo -->
      <section class="invitation-section py-16 text-center bg-amber-600">
        <div class="container mx-auto px-4">
          <div class="max-w-lg mx-auto">
            <div class="mb-6">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto text-ambebg-amber-600"><path d="M12 3v13"/><path d="M5 10h14"/><path d="M5 10a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2"/><path d="M6 10v8a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-8"/><path d="M6 15h12"/></svg>
            </div>
            <h2 class="text-2xl font-medium mb-6 text-white">EL REGALO</h2>
            <p class="text-white mb-6">
              NUESTRO MEJOR REGALO ES QUE ESTÉS CON NOSOTROS EN NUESTRO DÍA, PERO SI QUIERES HACERNOS UN OBSEQUIO, AQUÍ ESTÁ NUESTRO NÚMERO DE CUENTA:
            </p>
            <button id="show-account" class="bg-transparent border border-white text-white font-medium py-2 px-6 rounded">
              VER CUENTA
            </button>
            
            <div id="account-details" class="hidden mt-6 p-4 bg-gray-50 rounded-lg">
              <p class="font-medium text-gray-700 mb-2">Banco: Banco Nación</p>
              <p class="font-medium text-gray-700 mb-2">Titular: Olivia Fernández</p>
              <p class="font-medium text-gray-700 mb-4">Alias: BODA.OLIVIA.MATEO</p>
              <p class="text-sm text-gray-600">¡Muchas gracias por tu regalo!</p>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Dress Code -->
      <section class="invitation-section py-16 bg-gray-50 text-center">
        <div class="container mx-auto px-4">
          <div class="max-w-lg mx-auto">
            <div class="mb-6">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto text-ambebg-amber-600"><path d="M6 3h12l4 6-10 13L2 9Z"/><path d="M11 3 8 9l4 13 4-13-3-6"/><path d="M2 9h20"/></svg>
            </div>
            <h2 class="text-2xl font-medium mb-2 text-gray-700">DRESS CODE</h2>
            <p class="text-xl font-bold mb-6 text-ambebg-amber-600">FORMAL ELEGANTE</p>
            <hr class="w-24 mx-auto border-t-2 border-gray-200 mb-6" />
            <p class="text-gray-600">
              EL BLANCO ES UN COLOR HERMOSO,<br />
              PERO EN NUESTRA BODA ES<br />
              EXCLUSIVO PARA LA NOVIA
            </p>
          </div>
        </div>
      </section>
      
      <!-- Confirmación -->
      <section class="invitation-section py-16 text-center bg-amber-600">
        <div class="container mx-auto px-4">
          <div class="max-w-lg mx-auto">
            <div class="mb-6">
              <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="mx-auto">
                <rect width="16" height="13" x="4" y="7" rx="2"/>
                <path d="m5 7-1 4h16l-1-4"/>
                <path d="M4 11v10"/>
                <path d="M20 11v10"/>
                <path d="M8 7V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v3"/>
              </svg>
            </div>
            <h2 class="text-2xl font-medium mb-6 text-white">CONFIRMÁ TU ASISTENCIA</h2>
            <p class="text-white mb-2">ANTES DEL 15 DE OCTUBRE</p>
            
            <!-- Botón para mostrar modal de valores de tarjeta -->
            <button id="show-card-values" class="mb-6 bg-transparent border border-white text-white font-medium py-2 px-6 rounded">
              VALORES TARJETA
            </button>
            
            <!-- Modal de valores de tarjeta (inicialmente oculto) -->
            <div id="card-values-modal" class="fixed inset-0 z-50 hidden">
              <div class="flex items-center justify-center min-h-screen">
              <div class="absolute inset-0 bg-black/70" id="modal-backdrop"></div>
              <div class="relative z-10 bg-white rounded-lg p-6 max-w-md w-full mx-4">
                <button id="close-card-values" class="absolute top-2 right-2 text-gray-500 hover:text-gray-700">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-x">
                    <path d="M18 6 6 18"/>
                    <path d="m6 6 12 12"/>
                  </svg>
                </button>
                <h3 class="text-xl font-bold text-ambebg-amber-600 mb-4 text-center">VALORES TARJETA</h3>
                <div class="space-y-4">
                  <p class="text-lg font-bold text-center">NOVIEMBRE $52.800</p>
                  <div class="border-t border-gray-200 pt-4">
                    <p class="mb-2">4 a 10 AÑOS ABONAN mitad de tarjeta</p>
                    <p class="mb-4">0 a 3 NO ABONAN TARJETA</p>
                  </div>
                  <div class="bg-gray-100 p-4 rounded-lg">
                    <p class="font-medium">CUENTA DE PAGO</p>
                    <p class="font-bold">ALIAS: BODA.OLIVIA.MATEO</p>
                  </div>
                </div>
              </div>
            </div>
            </div>

            <form id="rsvp-form" action="https://api.web3forms.com/submit" method="POST" class="text-left">
  <!-- Web3Forms Configuration -->
  <input type="hidden" name="access_key" value="7ed836a7-266b-4f1c-b507-697bab218b47">
  <input type="hidden" name="subject" value="Nueva confirmación para la boda de Olivia & Mateo">
  <input type="hidden" name="from_name" value="Invitación Digital - Olivia & Mateo">
  <input type="checkbox" name="botcheck" class="hidden" style="display: none;">
  
  <div class="mb-4">
    <label for="attendance" class="block text-sm font-medium text-white mb-1">¿Asistirás a nuestra boda?</label>
    <select id="attendance" name="attendance" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent">
      <option value="yes">Sí, asistiré</option>
      <option value="no">No podré asistir</option>
    </select>
  </div>
  
  <div id="guests-container" class="mb-4">
    <label for="guests" class="block text-sm font-medium text-white mb-1">¿Por cuántas personas confirmarás?</label>
    <select id="guests" name="number_of_guests" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent">
      <option value="1">1 persona</option>
      <option value="2">2 personas</option>
      <option value="3">3 personas</option>
      <option value="4">4 personas</option>
    </select>
  </div>

  <div id="guests-forms">
    <div id="guest-1" class="mb-6">
      <p class="font-medium mb-2 text-white">Persona 1</p>
      <div class="mb-3">
        <label for="name-1" class="block text-sm font-medium text-white mb-1">Nombre *</label>
        <input type="text" id="name-1" name="guest_1_name" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent" required />
      </div>
      <div class="mb-3">
        <label for="lastname-1" class="block text-sm font-medium text-white mb-1">Apellido *</label>
        <input type="text" id="lastname-1" name="guest_1_lastname" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent" required />
      </div>
      <div>
        <label for="diet-1" class="block text-sm font-medium text-white mb-1">¿Algún requerimiento en la alimentación?</label>
        <select id="diet-1" name="guest_1_diet" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent">
          <option value="none">Ninguno</option>
          <option value="vegetarian">Vegetariano</option>
          <option value="vegan">Vegano</option>
          <option value="celiac">Celíaco</option>
        </select>
      </div>
    </div>
    
    <!-- Formularios para personas adicionales (inicialmente ocultos) -->
    <div id="guest-2" class="mb-6 hidden">
      <p class="font-medium mb-2 text-white">Persona 2</p>
      <div class="mb-3">
        <label for="name-2" class="block text-sm font-medium text-white mb-1">Nombre *</label>
        <input type="text" id="name-2" name="guest_2_name" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent" />
      </div>
      <div class="mb-3">
        <label for="lastname-2" class="block text-sm font-medium text-white mb-1">Apellido *</label>
        <input type="text" id="lastname-2" name="guest_2_lastname" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent" />
      </div>
      <div>
        <label for="diet-2" class="block text-sm font-medium text-white mb-1">¿Algún requerimiento en la alimentación?</label>
        <select id="diet-2" name="guest_2_diet" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent">
          <option value="none">Ninguno</option>
          <option value="vegetarian">Vegetariano</option>
          <option value="vegan">Vegano</option>
          <option value="celiac">Celíaco</option>
        </select>
      </div>
    </div>
    
    <div id="guest-3" class="mb-6 hidden">
      <p class="font-medium mb-2 text-white">Persona 3</p>
      <div class="mb-3">
        <label for="name-3" class="block text-sm font-medium text-white mb-1">Nombre *</label>
        <input type="text" id="name-3" name="guest_3_name" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent" />
      </div>
      <div class="mb-3">
        <label for="lastname-3" class="block text-sm font-medium text-white mb-1">Apellido *</label>
        <input type="text" id="lastname-3" name="guest_3_lastname" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent" />
      </div>
      <div>
        <label for="diet-3" class="block text-sm font-medium text-white mb-1">¿Algún requerimiento en la alimentación?</label>
        <select id="diet-3" name="guest_3_diet" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent">
          <option value="none">Ninguno</option>
          <option value="vegetarian">Vegetariano</option>
          <option value="vegan">Vegano</option>
          <option value="celiac">Celíaco</option>
        </select>
      </div>
    </div>
    
    <div id="guest-4" class="mb-6 hidden">
      <p class="font-medium mb-2 text-white">Persona 4</p>
      <div class="mb-3">
        <label for="name-4" class="block text-sm font-medium text-white mb-1">Nombre *</label>
        <input type="text" id="name-4" name="guest_4_name" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent" />
      </div>
      <div class="mb-3">
        <label for="lastname-4" class="block text-sm font-medium text-white mb-1">Apellido *</label>
        <input type="text" id="lastname-4" name="guest_4_lastname" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent" />
      </div>
      <div>
        <label for="diet-4" class="block text-sm font-medium text-white mb-1">¿Algún requerimiento en la alimentación?</label>
        <select id="diet-4" name="guest_4_diet" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent">
          <option value="none">Ninguno</option>
          <option value="vegetarian">Vegetariano</option>
          <option value="vegan">Vegano</option>
          <option value="celiac">Celíaco</option>
        </select>
      </div>
    </div>
  </div>

  <div id="music-container" class="mb-4">
    <label for="music" class="block text-sm font-medium text-white mb-1">Recomendar música</label>
    <input type="text" id="music" name="music_recommendation" class="w-full px-4 py-2 border border-white bg-transparent text-white rounded-md focus:ring-2 focus:ring-white focus:border-transparent" placeholder="¿Qué canción no puede faltar?" />
  </div>

  <!-- Campo adicional para información del formulario -->
  <input type="hidden" name="event_date" value="15 de Noviembre 2025">
  <input type="hidden" name="couple_names" value="Olivia & Mateo">

  <!-- Mensaje de estado del formulario -->
  <div id="form-status" class="hidden mb-4"></div>

  <button type="submit" id="submit-button" class="w-full bg-white text-amber-600 font-medium py-2 px-6 rounded hover:bg-gray-100 transition">
    Confirmar Asistencia
  </button>
</form>

<!-- Mensaje de confirmación (inicialmente oculto) -->
<div id="success-message" class="hidden mt-6 p-4 bg-green-100 border border-green-400 text-green-700 rounded">
  <p class="font-medium">¡Confirmación enviada exitosamente!</p>
  <p class="text-sm">Gracias por confirmar tu asistencia. Nos vemos en nuestra boda.</p>
</div>
          </div>
        </div>
      </section>
      
      <!-- Trivia -->
      <section class="invitation-section py-16 bg-rose-50 text-center">
        <div class="container mx-auto px-4">
          <div class="max-w-lg mx-auto">
            <h2 class="text-2xl font-medium mb-6 text-gray-800">¿CUÁNTO NOS CONOCES?</h2>
            <p class="text-gray-600 mb-8">Responde estas preguntas y descubre cuánto sabes de nosotros</p>
            
            <div id="trivia-container">
              <div id="trivia-questions">
                <div class="question" data-question="1">
                  <h3 class="text-xl font-medium mb-4 text-ambebg-amber-600">¿Dónde nos conocimos?</h3>
                  <div class="grid grid-cols-1 gap-3">
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="false">En la universidad</button>
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="true">En la fiesta de un amigo</button>
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="false">En el trabajo</button>
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="false">Por una app de citas</button>
                  </div>
                </div>
                
                <div class="question hidden" data-question="2">
                  <h3 class="text-xl font-medium mb-4 text-ambebg-amber-600">¿Cuánto tiempo llevamos juntos?</h3>
                  <div class="grid grid-cols-1 gap-3">
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="false">2 años</button>
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="false">3 años</button>
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="true">4 años</button>
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="false">6 años</button>
                  </div>
                </div>
                
                <div class="question hidden" data-question="3">
                  <h3 class="text-xl font-medium mb-4 text-ambebg-amber-600">¿Cuál es nuestro lugar favorito para vacacionar?</h3>
                  <div class="grid grid-cols-1 gap-3">
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="false">Montañas</button>
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="true">Playa</button>
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="false">Ciudad</button>
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="false">Campo</button>
                  </div>
                </div>
                
                <div class="question hidden" data-question="4">
                  <h3 class="text-xl font-medium mb-4 text-ambebg-amber-600">¿Quién propuso matrimonio?</h3>
                  <div class="grid grid-cols-1 gap-3">
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="true">Mateo</button>
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="false">Olivia</button>
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="false">Fue mutuo</button>
                    <button class="trivia-option p-3 border border-gray-300 rounded-md hover:bg-rose-100 transition" data-correct="false">Los padres arreglaron todo</button>
                  </div>
                </div>
              </div>
              
              <div id="trivia-results" class="hidden">
                <h3 class="text-2xl font-bold mb-4 text-ambebg-amber-600">¡Resultados!</h3>
                <p class="text-lg mb-4">Has acertado <span id="correct-answers">0</span> de 4 preguntas</p>
                <div id="result-message" class="mb-6 p-4 bg-rose-100 rounded-lg"></div>
                <button id="restart-trivia" class="bg-amber-600 hover:bg-rose-800 text-white font-medium py-2 px-6 rounded transition">
                  Volver a jugar
                </button>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Fotos -->
      <section class="invitation-section py-16 text-center">
        <div class="container mx-auto px-4">
          <div class="max-w-lg mx-auto">
            <h2 class="text-2xl font-medium mb-6 text-gray-800">QUEREMOS VER TUS FOTOS</h2>
            <p class="text-gray-600 mb-6">
              PUEDEN USAR NUESTRO # EN TODAS SUS PUBLICACIONES DE INSTAGRAM<br />
              <span class="font-bold text-ambebg-amber-600">#OLIVIAYMATEO2025</span>
            </p>
          </div>
        </div>
      </section>
      
      <!-- Foto final -->
      <section class="invitation-section py-16 text-center bg-gray-50">
        <div class="container mx-auto px-4">
          <div class="w-full">
            <img 
              src="/placeholder.svg?height=1080&width=1920&query=elegant minimalist wedding couple" 
              alt="Olivia y Mateo" 
              class="w-full h-[70vh] object-cover rounded-lg shadow-lg mb-8 max-w-4xl mx-auto"
            />
            <h2 class="text-3xl md:text-4xl font-bold text-ambebg-amber-600 playfair mt-6">OLIVIA & MATEO</h2>
          </div>
        </div>
      </section>
      
      <!-- Footer de la empresa -->
      <footer class="py-10 bg-gray-900 text-white text-center">
        <div class="container mx-auto px-4">
          <div class="mb-6">
            <h3 class="text-xl font-bold mb-2 playfair">La Tarjeta Digital</h3>
            <p class="text-gray-400 mb-4">Invitaciones digitales para eventos especiales</p>
          </div>
          
          <div class="flex justify-center space-x-6 mb-6">
            <a href="https://instagram.com/latarjetadigital" target="_blank" class="text-gray-400 hover:text-white transition">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-instagram"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
            </a>
            <a href="https://facebook.com/latarjetadigital" target="_blank" class="text-gray-400 hover:text-white transition">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
            </a>
            <a href="https://wa.me/5491112345678" target="_blank" class="text-gray-400 hover:text-white transition">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-message-circle"><path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"/></svg>
            </a>
          </div>
          
          <div class="text-sm text-gray-500">
            <p>¿Te gustó esta invitación? Contáctanos para crear la tuya.</p>
            <p class="mt-2">&copy; {new Date().getFullYear()} La Tarjeta Digital. Todos los derechos reservados.</p>
          </div>
        </div>
      </footer>
    </div>
  </div>
</Layout>

<script>
  // Datos de ubicaciones
  const locations = {
    civil: {
      title: "CEREMONIA CIVIL",
      address: "Registro Civil Central",
      details: "Av. Corrientes 1234, Buenos Aires",
      time: "11:30 HS",
      embedUrl: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3284.0168903552!2d-58.3815591!3d-34.6037389!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzTCsDM2JzEzLjUiUyA1OMKwMjInNTMuNiJX!5e0!3m2!1ses!2sar!4v1234567890",
      directionsUrl: "https://maps.google.com/?q=Registro+Civil+Central,+Buenos+Aires"
    },
    ceremony: {
      title: "CEREMONIA RELIGIOSA",
      address: "Iglesia San Miguel",
      details: "Av. Santa Fe 5678, Buenos Aires",
      time: "19:30 HS",
      embedUrl: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3284.0168903552!2d-58.3815591!3d-34.6037389!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzTCsDM2JzEzLjUiUyA1OMKwMjInNTMuNiJX!5e0!3m2!1ses!2sar!4v1234567890",
      directionsUrl: "https://maps.google.com/?q=Iglesia+San+Miguel,+Buenos+Aires"
    },
    party: {
      title: "FIESTA",
      address: "Salón de Eventos El Jardín",
      details: "Av. del Libertador 9012, Buenos Aires",
      time: "22:00 HS",
      embedUrl: "https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3284.0168903552!2d-58.3815591!3d-34.6037389!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x0%3A0x0!2zMzTCsDM2JzEzLjUiUyA1OMKwMjInNTMuNiJX!5e0!3m2!1ses!2sar!4v1234567890",
      directionsUrl: "https://maps.google.com/?q=Salón+de+Eventos+El+Jardín,+Buenos+Aires"
    }
  };

  // Función principal de inicialización
  function initInvitation() {
    console.log('Inicializando invitación...');
    
    // Solución para el botón INGRESAR
    const enterBtn = document.getElementById('enter-btn');
    if (enterBtn) {
      // Eliminar event listeners anteriores
      const newEnterBtn = enterBtn.cloneNode(true);
      if (enterBtn.parentNode) {
        enterBtn.parentNode.replaceChild(newEnterBtn, enterBtn);
      }
      
      // Agregar nuevo event listener
      newEnterBtn.addEventListener('click', function() {
        showContent();
      });
    }
    
    // Inicializar botón de corazón para reproducir música
    const playHeartBtn = document.getElementById('play-heart');
    if (playHeartBtn) {
      // Eliminar event listeners anteriores
      const newPlayHeartBtn = playHeartBtn.cloneNode(true);
      if (playHeartBtn.parentNode) {
        playHeartBtn.parentNode.replaceChild(newPlayHeartBtn, playHeartBtn);
      }
      
      // Agregar nuevo event listener con anotación de tipo para this
      newPlayHeartBtn.addEventListener('click', function(this: HTMLButtonElement) {
        const music = document.getElementById('background-music') as HTMLAudioElement;
        if (music?.paused) {
          music.play()
            .then(() => {
              // Animar el corazón cuando se reproduce la música
              this.classList.add('scale-110', 'text-rose-600');
            })
            .catch(error => {
              console.error('Error al reproducir música:', error);
            });
        } else {
          music?.pause();
          this.classList.remove('scale-110', 'text-rose-600');
        }
      });
    }
    
    // Inicializar botones de ubicación
    initLocationButtons();
    
    // Inicializar botón de cuenta
    const showAccountBtn = document.getElementById('show-account');
    if (showAccountBtn) {
      // Eliminar event listeners anteriores
      const newShowAccountBtn = showAccountBtn.cloneNode(true);
      if (showAccountBtn.parentNode) {
        showAccountBtn.parentNode.replaceChild(newShowAccountBtn, showAccountBtn);
      }
      
      // Agregar nuevo event listener con anotación de tipo para this
      newShowAccountBtn.addEventListener('click', function(this: HTMLButtonElement) {
        const accountDetails = document.getElementById('account-details');
        if (accountDetails?.classList.contains('hidden')) {
          accountDetails.classList.remove('hidden');
          this.textContent = 'OCULTAR CUENTA';
        } else {
          accountDetails?.classList.add('hidden');
          this.textContent = 'VER CUENTA';
        }
      });
    }
    
    // Inicializar modal de valores de tarjeta
    const showCardValuesBtn = document.getElementById('show-card-values');
    const cardValuesModal = document.getElementById('card-values-modal');
    const closeCardValuesBtn = document.getElementById('close-card-values');
    const modalBackdrop = document.getElementById('modal-backdrop');
    
    if (showCardValuesBtn && cardValuesModal) {
      // Eliminar event listeners anteriores
      const newShowCardValuesBtn = showCardValuesBtn.cloneNode(true);
      if (showCardValuesBtn.parentNode) {
        showCardValuesBtn.parentNode.replaceChild(newShowCardValuesBtn, showCardValuesBtn);
      }
      
      // Agregar nuevo event listener
      newShowCardValuesBtn.addEventListener('click', function() {
        if (cardValuesModal) {
          cardValuesModal.classList.remove('hidden');
          cardValuesModal.querySelector('.flex')?.classList.remove('hidden');
        }
      });
    }
    
    if (closeCardValuesBtn && cardValuesModal) {
      // Eliminar event listeners anteriores
      const newCloseCardValuesBtn = closeCardValuesBtn.cloneNode(true);
      if (closeCardValuesBtn.parentNode) {
        closeCardValuesBtn.parentNode.replaceChild(newCloseCardValuesBtn, closeCardValuesBtn);
      }
      
      // Agregar nuevo event listener
      newCloseCardValuesBtn.addEventListener('click', function() {
        if (cardValuesModal) {
          cardValuesModal.classList.add('hidden');
        }
      });
    }
    
    if (modalBackdrop && cardValuesModal) {
      // Eliminar event listeners anteriores
      const newModalBackdrop = modalBackdrop.cloneNode(true);
      if (modalBackdrop.parentNode) {
        modalBackdrop.parentNode.replaceChild(newModalBackdrop, modalBackdrop);
      }
      
      // Agregar nuevo event listener
      newModalBackdrop.addEventListener('click', function() {
        cardValuesModal?.classList.add('hidden');
      });
    }
    
    // Inicializar selector de asistencia
    const attendanceSelect = document.getElementById('attendance') as HTMLSelectElement;
    const guestsContainer = document.getElementById('guests-container');
    const guestsForms = document.getElementById('guests-forms');
    const musicContainer = document.getElementById('music-container');
    
    if (attendanceSelect) {
      // Eliminar event listeners anteriores
      const newAttendanceSelect = attendanceSelect.cloneNode(true);
      if (attendanceSelect.parentNode) {
        attendanceSelect.parentNode.replaceChild(newAttendanceSelect, attendanceSelect);
      }
      
      // Agregar nuevo event listener
      newAttendanceSelect.addEventListener('change', function(this: HTMLSelectElement) {
        if (this.value === 'yes') {
          guestsContainer?.classList.remove('hidden');
          guestsForms?.classList.remove('hidden');
          musicContainer?.classList.remove('hidden');
        } else {
          guestsContainer?.classList.add('hidden');
          guestsForms?.classList.add('hidden');
          musicContainer?.classList.add('hidden');
        }
      });
    }
    
    // Inicializar selector de número de invitados
    const guestsSelect = document.getElementById('guests') as HTMLSelectElement;
    
    if (guestsSelect) {
      // Eliminar event listeners anteriores
      const newGuestsSelect = guestsSelect.cloneNode(true);
      if (guestsSelect.parentNode) {
        guestsSelect.parentNode.replaceChild(newGuestsSelect, guestsSelect);
      }
      
      // Agregar nuevo event listener
      newGuestsSelect.addEventListener('change', function(this: HTMLSelectElement) {
        const numGuests = parseInt(this.value);
        
        // Ocultar todos los formularios de invitados primero
        for (let i = 1; i <= 4; i++) {
          const guestForm = document.getElementById(`guest-${i}`);
          if (guestForm) {
            if (i <= numGuests) {
              guestForm.classList.remove('hidden');
            } else {
              guestForm.classList.add('hidden');
            }
          }
        }
      });
    }
    
    // Inicializar trivia
    initTrivia();
    
    // Inicializar carrusel
    initCarousel();
  }

  // Función para inicializar botones de ubicación
  function initLocationButtons() {
    const locationButtons = [
      { id: 'civil-location', type: 'civil' },
      { id: 'ceremony-location', type: 'ceremony' },
      { id: 'party-location', type: 'party' }
    ];

    locationButtons.forEach(({ id, type }) => {
      const button = document.getElementById(id);
      if (button) {
        // Eliminar event listeners anteriores
        const newButton = button.cloneNode(true);
        if (button.parentNode) {
          button.parentNode.replaceChild(newButton, button);
        }
        
        // Agregar nuevo event listener
        newButton.addEventListener('click', function() {
          showLocationModal(type);
        });
      }
    });

    // Inicializar modal de mapas
    const mapsModal = document.getElementById('maps-modal');
    const closeMapsBtn = document.getElementById('close-maps');
    const mapsBackdrop = document.getElementById('maps-backdrop');

    if (closeMapsBtn && mapsModal) {
      // Eliminar event listeners anteriores
      const newCloseMapsBtn = closeMapsBtn.cloneNode(true);
      if (closeMapsBtn.parentNode) {
        closeMapsBtn.parentNode.replaceChild(newCloseMapsBtn, closeMapsBtn);
      }
      
      // Agregar nuevo event listener
      newCloseMapsBtn.addEventListener('click', function() {
        mapsModal?.classList.add('hidden');
        mapsModal?.classList.remove('flex');
      });
    }

    if (mapsBackdrop && mapsModal) {
      // Eliminar event listeners anteriores
      const newMapsBackdrop = mapsBackdrop.cloneNode(true);
      if (mapsBackdrop.parentNode) {
        mapsBackdrop.parentNode.replaceChild(newMapsBackdrop, mapsBackdrop);
      }
      
      // Agregar nuevo event listener
      newMapsBackdrop.addEventListener('click', function() {
        mapsModal?.classList.add('hidden');
        mapsModal?.classList.remove('flex');
      });
    }
  }

  // Función para mostrar modal de ubicación
  function showLocationModal(locationType: string) {
    const location = locations[locationType as keyof typeof locations];
    if (!location) return;

    const modal = document.getElementById('maps-modal');
    const title = document.getElementById('location-title');
    const details = document.getElementById('location-details');
    const iframe = document.getElementById('google-map') as HTMLIFrameElement;
    const directionsLink = document.getElementById('directions-link') as HTMLAnchorElement;

    if (title) title.textContent = location.title;
    if (details) {
      details.innerHTML = `
        <p class="font-semibold text-gray-800">${location.address}</p>
        <p class="text-gray-600">${location.details}</p>
        <p class="text-ambebg-amber-600 font-medium">${location.time}</p>
      `;
    }
    if (iframe) iframe.src = location.embedUrl;
    if (directionsLink) directionsLink.href = location.directionsUrl;

    if (modal) {
      modal.classList.remove('hidden');
      modal.classList.add('flex');
    }
  }
  
  // Función para mostrar el contenido principal
  function showContent() {
    const invitationContent = document.getElementById('invitation-content');
    const portadaSection = document.getElementById('portada-section');
    
    if (invitationContent) invitationContent.classList.remove('hidden');
    if (portadaSection) portadaSection.classList.add('hidden');
    
    // Iniciar cuenta regresiva
    startCountdown();
  }
  
  // Inicializar trivia
  function initTrivia() {
    // Reiniciar variables
    currentQuestion = 1;
    correctAnswers = 0;
    
    // Resetear todas las preguntas
    document.querySelectorAll('.question').forEach(question => {
      question.classList.add('hidden');
    });
    const firstQuestion = document.querySelector('.question[data-question="1"]');
    if (firstQuestion) firstQuestion.classList.remove('hidden');
    
    // Resetear opciones
    document.querySelectorAll('.trivia-option').forEach(option => {
      // Eliminar event listeners anteriores
      const newOption = option.cloneNode(true);
      if (option.parentNode) {
        option.parentNode.replaceChild(newOption, option);
      }
      
      // Agregar nuevo event listener con anotación de tipo para this
      newOption.addEventListener('click', handleTriviaOptionClick);
    });
    
    // Reiniciar trivia
    const restartTriviaBtn = document.getElementById('restart-trivia');
    if (restartTriviaBtn) {
      // Eliminar event listeners anteriores
      const newRestartBtn = restartTriviaBtn.cloneNode(true);
      if (restartTriviaBtn.parentNode) {
        restartTriviaBtn.parentNode.replaceChild(newRestartBtn, restartTriviaBtn);
      }
      
      // Agregar nuevo event listener
      newRestartBtn.addEventListener('click', initTrivia);
    }
    
    // Mostrar preguntas y ocultar resultados
    const triviaQuestions = document.getElementById('trivia-questions');
    const triviaResults = document.getElementById('trivia-results');
    if (triviaQuestions) triviaQuestions.classList.remove('hidden');
    if (triviaResults) triviaResults.classList.add('hidden');
  }
  
  // Variables para trivia
  let currentQuestion = 1;
  
  let correctAnswers = 0;
  
  // Manejar clic en opción de trivia
  function handleTriviaOptionClick(this: HTMLElement) {
    // Verificar respuesta
    if (this.getAttribute('data-correct') === 'true') {
      correctAnswers++;
      this.classList.add('bg-green-100', 'border-green-500');
    } else {
      this.classList.add('bg-red-100', 'border-red-500');
      // Mostrar la respuesta correcta
      const correctOption = document.querySelector(`.question[data-question="${currentQuestion}"] .trivia-option[data-correct="true"]`);
      correctOption?.classList.add('bg-green-100', 'border-green-500');
    }
    
    // Deshabilitar todas las opciones de la pregunta actual
    document.querySelectorAll(`.question[data-question="${currentQuestion}"] .trivia-option`).forEach(opt => {
      (opt as HTMLButtonElement).disabled = true;
    });
    
    // Pasar a la siguiente pregunta después de un breve retraso
    setTimeout(() => {
      if (currentQuestion < 4) {
        document.querySelector(`.question[data-question="${currentQuestion}"]`)?.classList.add('hidden');
        currentQuestion++;
        document.querySelector(`.question[data-question="${currentQuestion}"]`)?.classList.remove('hidden');
      } else {
        // Mostrar resultados
        document.getElementById('trivia-questions')?.classList.add('hidden');
        document.getElementById('trivia-results')?.classList.remove('hidden');
        const correctAnswersElement = document.getElementById('correct-answers');
        if (correctAnswersElement) correctAnswersElement.textContent = correctAnswers.toString();
        
        // Mensaje según la cantidad de respuestas correctas
        const resultMessage = document.getElementById('result-message');
        if (correctAnswers === 4) {
          if (resultMessage) resultMessage.textContent = '¡Perfecto! Nos conoces muy bien.';
          resultMessage?.classList.add('bg-green-100', 'text-green-800');
        } else if (correctAnswers >= 2) {
          if (resultMessage) resultMessage.textContent = '¡Muy bien! Nos conoces bastante.';
          resultMessage?.classList.add('bg-blue-100', 'text-blue-800');
        } else {
          if (resultMessage) resultMessage.textContent = 'Parece que aún tienes mucho por conocer de nosotros.';
          resultMessage?.classList.add('bg-amber-100', 'text-amber-800');
        }
      }
    }, 1500);
  }
  
  // Cuenta regresiva
  function startCountdown() {
    const weddingDate = new Date('November 15, 2025 19:30:00').getTime();
    
    const countdown = setInterval(function() {
      const now = new Date().getTime();
      const distance = weddingDate - now;
      
      const days = Math.floor(distance / (1000 * 60 * 60 * 24));
      const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((distance % (1000 * 60)) / 1000);
      
      const daysElement = document.getElementById('days');
      const hoursElement = document.getElementById('hours');
      const minutesElement = document.getElementById('minutes');
      const secondsElement = document.getElementById('seconds');
      
      if (daysElement) daysElement.textContent = days.toString().padStart(2, '0');
      if (hoursElement) hoursElement.textContent = hours.toString().padStart(2, '0');
      if (minutesElement) minutesElement.textContent = minutes.toString().padStart(2, '0');
      if (secondsElement) secondsElement.textContent = seconds.toString().padStart(2, '0');
      
      if (distance < 0) {
        clearInterval(countdown);
        if (daysElement) daysElement.textContent = '00';
        if (hoursElement) hoursElement.textContent = '00';
        if (minutesElement) minutesElement.textContent = '00';
        if (secondsElement) secondsElement.textContent = '00';
      }
    }, 1000);
  }
  
  // Variables para el carrusel
let currentSlide = 0;
const totalSlides = 4;
let carouselInterval: ReturnType<typeof setInterval> | null = null;

// Función para inicializar el carrusel
function initCarousel() {
  const container = document.getElementById('carousel-container');
  const prevBtn = document.getElementById('prev-btn');
  const nextBtn = document.getElementById('next-btn');
  const indicators = document.querySelectorAll('.carousel-indicator');
  
  if (!container) return;
  
  // Función para ir a una diapositiva específica
  function goToSlide(slideIndex: number) {
    currentSlide = slideIndex;
    const translateX = -currentSlide * 100;
    
    // Verificación de null para evitar el error de TypeScript
    if (container) {
      container.style.transform = `translateX(${translateX}%)`;
    }
    
    // Actualizar indicadores
    indicators.forEach((indicator, index) => {
      if (index === currentSlide) {
        indicator.classList.remove('bg-white/60');
        indicator.classList.add('bg-white');
      } else {
        indicator.classList.remove('bg-white');
        indicator.classList.add('bg-white/60');
      }
    });
  }
  
  // Función para ir a la siguiente diapositiva
  function nextSlide() {
    currentSlide = (currentSlide + 1) % totalSlides;
    goToSlide(currentSlide);
  }
  
  // Función para ir a la diapositiva anterior
  function prevSlide() {
    currentSlide = (currentSlide - 1 + totalSlides) % totalSlides;
    goToSlide(currentSlide);
  }
  
  // Event listeners para botones de navegación
  if (prevBtn) {
    const newPrevBtn = prevBtn.cloneNode(true);
    if (prevBtn.parentNode) {
      prevBtn.parentNode.replaceChild(newPrevBtn, prevBtn);
    }
    newPrevBtn.addEventListener('click', prevSlide);
  }
  
  if (nextBtn) {
    const newNextBtn = nextBtn.cloneNode(true);
    if (nextBtn.parentNode) {
      nextBtn.parentNode.replaceChild(newNextBtn, nextBtn);
    }
    newNextBtn.addEventListener('click', nextSlide);
  }
  
  // Event listeners para indicadores
  indicators.forEach((indicator, index) => {
    const newIndicator = indicator.cloneNode(true);
    if (indicator.parentNode) {
      indicator.parentNode.replaceChild(newIndicator, indicator);
    }
    newIndicator.addEventListener('click', () => goToSlide(index));
  });
  
  // Inicializar primera diapositiva
  goToSlide(0);
  
  // Autoplay - cambiar cada 4 segundos
  if (carouselInterval) {
    clearInterval(carouselInterval);
  }
  carouselInterval = setInterval(nextSlide, 4000);
  
  // Pausar autoplay cuando el mouse está sobre el carrusel
  const carouselSection = container.closest('.invitation-section');
  if (carouselSection) {
    carouselSection.addEventListener('mouseenter', () => {
      if (carouselInterval) {
        clearInterval(carouselInterval);
        carouselInterval = null;
      }
    });
    
    carouselSection.addEventListener('mouseleave', () => {
      if (!carouselInterval) {
        carouselInterval = setInterval(nextSlide, 4000);
      }
    });
  }
}

// Función para limpiar el carrusel
function cleanupCarousel() {
  if (carouselInterval) {
    clearInterval(carouselInterval);
    carouselInterval = null;
  }
}
  
  // Agregar evento para limpiar el carrusel cuando se abandona la página
document.addEventListener('astro:before-swap', () => {
  cleanupCarousel();
});

  // Función para mostrar modal de ubicación
  

// Manejar envío del formulario Web3Forms
document.addEventListener('DOMContentLoaded', function() {
  const rsvpForm = document.getElementById('rsvp-form') as HTMLFormElement;
  const statusDiv = document.getElementById('form-status') as HTMLDivElement;
  const submitButton = document.getElementById('submit-button') as HTMLButtonElement;
  
  if (rsvpForm && statusDiv && submitButton) {
    rsvpForm.addEventListener('submit', async function(e) {
      e.preventDefault();
      
      // Cambiar el texto del botón y deshabilitarlo durante el envío
      const originalButtonText = submitButton.innerText;
      submitButton.innerText = 'ENVIANDO...';
      submitButton.disabled = true;
      
      try {
        // Enviar el formulario usando fetch
        const formData = new FormData(rsvpForm);
        const response = await fetch(rsvpForm.action, {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        });
        
        const data = await response.json();
        
        if (response.status === 200) {
          // Éxito
          statusDiv.className = 'bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4';
          statusDiv.innerHTML = '<strong>¡Gracias!</strong> Tu confirmación ha sido enviada correctamente. Te esperamos en nuestra boda.';
          rsvpForm.reset();
          
          // También mostrar el mensaje de éxito alternativo
          const successMessage = document.getElementById('success-message');
          if (successMessage) {
            successMessage.classList.remove('hidden');
            rsvpForm.style.display = 'none';
          }
        } else {
          // Error
          throw new Error(data.message || 'Algo salió mal. Por favor, intenta de nuevo.');
        }
      } catch (error) {
        // Error
        statusDiv.className = 'bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4';
        statusDiv.innerHTML = `<strong>Error:</strong> ${error instanceof Error ? error.message : 'Algo salió mal. Por favor, intenta de nuevo.'}`;
      } finally {
        // Restaurar el botón y mostrar el mensaje de estado
        submitButton.innerText = originalButtonText;
        submitButton.disabled = false;
        statusDiv.classList.remove('hidden');
        
        // Desplazarse hasta el mensaje de estado
        statusDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        
        // Ocultar el mensaje después de 5 segundos si fue exitoso
        if (statusDiv.classList.contains('bg-green-100')) {
          setTimeout(() => {
            statusDiv.classList.add('hidden');
          }, 5000);
        }
      }
    });
  }
});
  
  // Ejecutar en la carga inicial
  document.addEventListener('DOMContentLoaded', initInvitation);
  
  // Ejecutar después de las transiciones de página de Astro
  document.addEventListener('astro:page-load', initInvitation);
  
  // También ejecutar después del intercambio de contenido
  document.addEventListener('astro:after-swap', initInvitation);
</script>

<style>
  .invitation-container {
    font-family: 'Poppins', sans-serif;
  }
  
  .invitation-section {
    scroll-margin-top: 80px;
  }
  
  .countdown-item {
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  
  /* Animación para el botón de corazón */
  #play-heart {
    transition: all 0.3s ease;
  }
  
  #play-heart:hover {
    transform: scale(1.1);
  }
  
  #play-heart:active {
    transform: scale(0.95);
  }
</style>
